---
tags: Tools Vim
publishDate: 2023/02/24
---
# Vim（二）其他模式下的操作
## 插入模式下的操作

- ctrl + r {number} 粘贴寄存器 number 里的内容
- ctrl + o 临时转入普通模式
- ctrl + w 删除前一个单词
- ctrl + h 删除前一个字符
- ctrl + u 删除至行首

## 命令模式下的操作

### 保存与退出

| 命令      | 含义                                         |
| --------- | -------------------------------------------- |
| :q        | 退出                                         |
| :wq       | 保存并退出                                   |
| :q!       | 强制退出                                     |
| :w        | 另存为                                       |
| :x        | 保存并退出                                   |
| :{number} | 跳转到第 number 行                           |
| : $        | 跳转到文件末尾                               |
| :1,3t4    | 将 1 到 3 行复制到第 4 行  :[rang]t{address} |
| :normal   | 对高亮选区的每一行执行操作(vscode 暂不支持)  |

### 设置

- `:set shiftwidth=10` 设置行缩进字符数
- `:set ignorecase` 设置 vim 查找模式是否忽略大小写，在查找模式中输入大写字母，该设置就会失效

### 缩进

- `:ce` 本行内容居中
- `:ri` 本行文本靠右
- `:le` 本行内容靠右

### 查找

### `/`

/ {char} 搜索指定字符串

- n 跳转到下一个匹配
- N 跳转到上一个匹配
- `:noh` 取消查找(???不明白啥意思)

### 帮助

- `:h shiftwidth` 打开名为 shiftwidth 的帮助文档
- `:ver` 显式版本及参数

### 寄存器

- :reg 查看寄存器
- "xy 回车 复制内容到第 x 个寄存器里
- "xp 粘贴第几个寄存器的内容
- "\_ 是黑洞寄存器，粘贴进去的东西会丢失，真正意义上的删除

### 宏

- :reg a 查看宏 a
- q a 开始录制宏 a 再按 q 停止录制
- @a 执行宏 a
- 追加：`qA`
- 修改宏(VSCode 失效)：
  - 取出宏的内容 `"ap` 或者 `:put a`
  - 修改：`"ayy` 粘贴进去

### 替换

- `:[range]s/pattern/string` 回车之后才会生效
- range: %表示全文，`number,number`指定行范围，$行尾
- flag: `g` 表示全文，`c` 表示询问
- 可以配合可视模式

## 可视模式下的操作

---

大部分操作符与普通模式下相同

- o 可以使得光标跳转到另一侧的选择端点，方便用于调整选择区域的起止点
- Ctrl + g 切换到选择模式(vscode 不生效)
